# 第2章 进程的描述与控制
    进程是资源分配和独立运行的基本单位

    OS为若干个进程和一个可对这些进程进行协调控制的核心(内核)组成
    
    OS的内核则必须要控制和协调进程的运行，解决进程之间的通信，并解决共享资源的竞争问题

## 2.1 前驱图与程序执行
    前趋图：有向无循环图(DAG)
    
    结点：一条语句，一个程序段或一个进程

    程序顺序执行特征：
        - 顺序性：严格顺序
        - 封闭性：独占
        - 可再现性：重复运行，结果相同
    
    程序并发执行特征：
        - 间断性（异步）：互斥，同步
        - 失去封闭性：共享资源所导致
        - 不可再现性：失去封闭性所导致

    引入进程，对并发执行的程序加以描述和控制

程序并发的条件：
有语句$S1$,$S2$,有：
$R(S1) \cap W(S2)$
$W(S1) \cap R(S2)$
$W(S1) \cap W(S2)$
$S1$,$S2$ 可并发

## 2.2 进程的描述
    进程是程序的一次执行

    进程是一个程序及其数据在处理机上顺序执行时所发生的活动

    进程是程序在一个数据集合上的运行过程，他是系统进行资源分配和调度的一个独立单位

    进程实体：程序段+数据段+进程控制块
    
    进程控制块（PCB）：进程存在的唯一标志，撤销与创建指的是撤销与创建PCB块

    进程特征：
        - 动态性：基本特征，因创建而产生，调度而执行，得不到资源而暂停，撤销而消亡
        - 并发性：引入的目的就是为了并发
        - 独立性：资源分配和调度独立单位
        - 异步性：各自推进速度不可知
    
    进程与程序之间不是一一对应的

    ✅三种基本状态
        - Ready 就绪：进程已获得了除处理机以外的所有资源，等待分配处理及执行的等待状态
        - Running 运行/执行：当一个进程获得必要的资源并正在处理机上执行的状态
        - Waiting 等待/阻塞：正在执行的进程由于发生某事件而暂时无法执行下去
![图片.png](https://i.loli.net/2019/12/23/GyBNS61EL52og8q.png)

    为什么需要挂起？
    处理机的高速使得所有进程都处于阻塞的情况很常见
    各方需要：
        - 终端用户的需要：程序运行时发现问题，需要暂停
        - 父进程的需要：父进程修改子进程
        - 操作系统的需要：检查运行中的资源使用情况或进行记账
        - 对换的需要：提高内存利用率
        - 负荷调节的需要：工作负荷重时，将不重要的进程挂起
    解决办法：扩大内存，内外存之间的交换
    
    挂起状态：
        - 进程处于静止状态
        - 一般情况下，挂起状态的进程将从内存移到外存
        - 正在执行的进程暂停执行
        - 就绪的进程暂不接受调度
        - 阻塞的进程即使阻塞事件释放也不能继续执行
![image.png](https://i.loli.net/2019/12/25/i4Dep1zx72L6aqU.png)

    PCB控制块
    为每一个进程定义一个数据结构，记录系统管理进程所需的全部信息
        * 进程管理信息
            - 程序和数据的内存始址
            - 了解进程所需全部资源
        * 进程控制信息
            - 现性状态及优先级
    常驻内存
    独立运行基本单位的标志

    PCB: 
        进程标识符
            - 内部：系统分的唯一标识
            - 外部：给用户访问识别
        处理机状态（断点信息）
        进程调度信息
        进程控制信息

    组织方式：
        链接方式
        索引方式




    
